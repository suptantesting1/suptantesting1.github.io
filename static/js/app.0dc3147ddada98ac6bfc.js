webpackJsonp([3],{"8cFf":function(t,o){},IcnI:function(t,o,n){"use strict";var e=n("/5sW"),r=n("NYxO"),a=n("mvHQ"),c=n.n(a),i=n("Xxa5"),s=n.n(i),u=n("exGp"),f=n.n(u);var m,d={debug:function(t,o){console.log(t,c()(o)||"")},error:function(t){console.log(t)}},l=n("//Fk"),b=n.n(l),p=(m=f()(s.a.mark(function t(o){var n=o.path;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new b.a(function(t,o){fetch(k({path:n}),{mode:"no-cors",method:"GET"}).then(function(t){return console.log(t),t.ok?t.json():o({status:t.status})}).then(function(o){return console.log(o),t(o)}).catch(function(t){return o(new Error("GET "+n+" "+t.message))})}));case 1:case"end":return t.stop()}},t,this)})),function(t){return m.apply(this,arguments)});function k(t){var o=t.version,n=t.path,e=t.id,r=t.queryString,a="https://json-bin.netlify.com";return a+=o?"/"+o:"",a+=n?"/"+n:"",a+=e?"/"+e:"",a+=r?"?"+r:""}var T,h=this,C=(T=f()(s.a.mark(function t(){var o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return d.debug("Start fetch books info."),t.next=3,p({path:"books.json"});case 3:return o=t.sent,t.abrupt("return",o);case 5:case"end":return t.stop()}},t,h)})),function(){return T.apply(this,arguments)}),v={namespaced:!0,state:{books:[],displayBooks:[]},actions:{getBooks:function(t){return C().then(function(o){d.debug("Fetch books success"),t.commit("BOOKS_UPDATED",o),t.commit("FILTER_BOOKS","")}).catch(function(t){d.error(c()(t))})},filterBooks:function(t,o){var n=t.commit;d.debug("Filter books from the given input "+o),n("FILTER_BOOKS",o)}},getters:{books:function(t){return t.books},displayBooks:function(t){return t.displayBooks}},mutations:{BOOKS_UPDATED:function(t,o){t.books=o},FILTER_BOOKS:function(t,o){if(o&&0!==o.length){var n=o.toLowerCase(),e=t.books.filter(function(t){return t.title.toLowerCase().includes(n)});t.displayBooks=e}else t.displayBooks=t.books}}},O={addBookToCart:function(t,o){var n=t.commit;d.debug("Add book to cart"),n("ADD_TO_CART",o),n("CALCULATE_DISCOUNT")},removeBookFromCart:function(t,o){var n=t.commit;d.debug("Remove book from cart"),n("REMOVE_FROM_CART",o),n("CALCULATE_DISCOUNT")},decreaseBookInCart:function(t,o){var n=t.commit;d.debug("Decrease book in cart"),n("DECREASE_BOOK_IN_CART",o),n("CALCULATE_DISCOUNT")},increaseBookInCart:function(t,o){var n=t.commit;d.debug("Increase book in cart"),n("INCREASE_BOOK_IN_CART",o),n("CALCULATE_DISCOUNT")},clearCart:function(t){var o=t.commit;d.debug("Clear items in cart"),o("CLEAR_CART")}},_={cart:function(t){return t.cart},item:function(t){return t.cart.item}},A=n("fZjL"),E=n.n(A),g=n("pFYg"),R=n.n(g),I=n("Dd8w"),y=n.n(I),B=n("y3TV"),D=n.n(B),w=[0,10,11,12,13,14,15],L={namespaced:!0,state:{cart:{item:{books:[]},subTotal:0,total:0,discount:{books:{harry:{}},amount:0}}},actions:O,getters:_,mutations:{ADD_TO_CART:function(t,o){var n=t.cart.item.books.map(function(t){return t.id}).indexOf(o.id),r=n>-1?t.cart.item.books[n]:y()({},o),a=r.price;r.amount=r.amount+1||1,r.total=r.total+a||a,-1===n?(t.cart.item.books.push(r),o.title.includes("Harry Potter")&&(t.cart.discount.books.harry[o.id]=o.price)):e.a.set(t.cart.item.books,n,r),t.cart.subTotal+=a},REMOVE_FROM_CART:function(t,o){var n=t.cart.item.books.map(function(t){return t.id}).indexOf(o);if(!(n<0)){d.debug("Found book to remove from cart");var e=t.cart.item.books.splice(n,1)[0];"object"===R()(D()(t,["cart","discount","books","harry"]))&&delete t.cart.discount.books.harry[e.id],t.cart.subTotal-=e.total}},DECREASE_BOOK_IN_CART:function(t,o){var n=t.cart.item.books.map(function(t){return t.id}).indexOf(o),r=t.cart.item.books[n];!r||r.amount<1||(r.amount-=1,r.total-=r.price,e.a.set(t.cart.item.books,n,r),t.cart.subTotal-=r.price)},INCREASE_BOOK_IN_CART:function(t,o){var n=t.cart.item.books.map(function(t){return t.id}).indexOf(o),r=t.cart.item.books[n];r&&(r.amount+=1,r.total+=r.price,e.a.set(t.cart.item.books,n,r),t.cart.subTotal+=r.price)},EDIT_BOOK_CART:function(t,o){var n=t.books,e=n.indexOf(o);e>-1&&(n[e]=o)},CLEAR_CART:function(t){t.cart={item:{books:[]},subTotal:0,total:0,discount:{books:{harry:{}},amount:0}}},CALCULATE_DISCOUNT:function(t){var o=t.cart,n=o.subTotal,e=o.discount.books.harry;if(e&&"object"===(void 0===e?"undefined":R()(e))){var r=E()(e),a=r.reduce(function(t,o){return t+e[o]},0),c=0;r.length>0&&(c=a*(w[r.length-1]/100));var i=n-c;t.cart.total=i,t.cart.discount.amount=c}}}};e.a.use(r.a);o.a=new r.a.Store({modules:{products:v,carts:L}})},NHnr:function(t,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var e=n("/5sW"),r=n("7VfX"),a=n.n(r),c=(n("8cFf"),{name:"App",created:function(){console.log("I was born here")},mounted:function(){console.log("I was render here")},beforeDestroy:function(){console.log("This is my last word")}}),i={render:function(){var t=this.$createElement,o=this._self._c||t;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},staticRenderFns:[]};var s=n("VU/8")(c,i,!1,function(t){n("pD8A")},null,null).exports,u=n("YaEn"),f=n("IcnI");e.a.config.productionTip=!1,e.a.use(a.a),new e.a({el:"#app",router:u.a,store:f.a,render:function(t){return t(s)}})},YaEn:function(t,o,n){"use strict";var e=n("/5sW"),r=n("/ocq");e.a.use(r.a);var a=[{path:"/",name:"HomeView",component:function(){return n.e(0).then(n.bind(null,"j7e0"))}},{path:"/payment",name:"PaymentView",component:function(){return n.e(1).then(n.bind(null,"TxOz"))}}];o.a=new r.a({mode:"history",routes:a})},pD8A:function(t,o){}},["NHnr"]);
//# sourceMappingURL=app.0dc3147ddada98ac6bfc.js.map