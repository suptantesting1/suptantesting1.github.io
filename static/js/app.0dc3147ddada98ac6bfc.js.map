{"version":3,"sources":["webpack:///./src/utils/logger.js","webpack:///./src/utils/httpHelper.js","webpack:///./src/api/index.js","webpack:///./src/store/modules/products/index.js","webpack:///./src/store/modules/products/actions.js","webpack:///./src/store/modules/products/getters.js","webpack:///./src/store/modules/products/mutations.js","webpack:///./src/store/modules/carts/actions.js","webpack:///./src/store/modules/carts/getters.js","webpack:///./src/utils/constant.js","webpack:///./src/store/modules/carts/index.js","webpack:///./src/store/modules/carts/mutations.js","webpack:///./src/store/index.js","webpack:///src/App.vue","webpack:///./src/App.vue?3eb1","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/router/index.js"],"names":["logger","debug","message","obj","console","log","stringify_default","error","ex","_callee","_ref3","path","regenerator_default","a","wrap","_context","prev","next","abrupt","promise_default","resolve","reject","fetch","generateUrl","mode","method","then","res","ok","json","status","catch","Error","stop","this","_ref","version","id","queryString","url","fetchBooks","asyncToGenerator_default","mark","result","getRequest","sent","_this","apply","arguments","products","namespaced","state","books","displayBooks","actions","getBooks","context","commit","err","filterBooks","title","getters","mutations","BOOKS_UPDATED","FILTER_BOOKS","length","compare","toLowerCase","filter","book","includes","carts_actions","addBookToCart","removeBookFromCart","_ref2","decreaseBookInCart","increaseBookInCart","_ref4","clearCart","_ref5","carts_getters","cart","item","HARRY_DISCOUNT","carts","subTotal","total","discount","harry","amount","ADD_TO_CART","index","map","b","indexOf","extends_default","price","push","Vue","set","REMOVE_FROM_CART","removeItem","splice","typeof_default","get","DECREASE_BOOK_IN_CART","INCREASE_BOOK_IN_CART","EDIT_BOOK_CART","CLEAR_CART","CALCULATE_DISCOUNT","_state$cart","keys","keys_default","basePrice","reduce","sum","key","discountAmount","use","Vuex","__webpack_exports__","Store","modules","productsModule","cartsModule","App","selectortype_template_index_0_src_App","render","_h","$createElement","_c","_self","attrs","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","config","productionTip","VuejsDialog","el","router","store","h","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_vue_router__","Router","routes","name","component","e","bind"],"mappings":"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","file":"static/js/app.0dc3147ddada98ac6bfc.js","sourcesContent":["// Not support on web browser\n// import winston from 'winston';\n// import { NODE_ENV, ALLOW_LOG_LEVEL } from '../config';\n\n/**\n * @param {stirng} message\n * @param {Object} obj\n */\nfunction debug(message, obj) { console.log(message, JSON.stringify(obj) || ''); }\n/**\n * @param {Error} ex\n */\nfunction error(ex) { console.log(ex); }\n\nconst logger = {\n  debug,\n  error,\n};\n// winston.createLogger({\n//   level: ALLOW_LOG_LEVEL,\n//   format: winston.format.json(),\n//   transports: [\n//     // new Sentry([]),\n//   ],\n// });\n\n// if (NODE_ENV !== 'production') {\n//   logger.add(new BrowserConsole({\n//     format: winston.format.simple(),\n//   }));\n// }\n\nexport default logger;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/logger.js","// import axios from 'axios';\n\n/**\n * @param {Object} param0\n * @param {string} version\n * @param {string} path\n * @param {string} id\n * @param {string} queryString\n */\nfunction generateUrl({\n  version, path, id, queryString,\n}) {\n  let url = 'https://json-bin.netlify.com';\n  url += version ? `/${version}` : '';\n  url += path ? `/${path}` : '';\n  url += id ? `/${id}` : '';\n  url += queryString ? `?${queryString}` : '';\n  return url;\n}\n\n/**\n * @param {Object} param0\n * @param {string} param0.path\n */\nasync function getRequest({ path }) {\n  return new Promise((resolve, reject) => {\n    // axios.get(generateUrl({ path }), {\n    //   headers: {},\n    // })\n    //   .then((res) => {\n    //     console.log(res);\n    //     return resolve(res);\n    //   })\n    //   .catch(error => reject(new Error(`GET ${path} ${error.message}`)));\n    fetch(generateUrl({ path }), {\n      mode: 'no-cors',\n      method: 'GET',\n    })\n      .then((res) => {\n        console.log(res);\n        if (res.ok) {\n          return res.json();\n        }\n        return reject({ status: res.status });\n      })\n      .then((json) => {\n        console.log(json);\n        return resolve(json);\n      })\n      .catch(error => reject(new Error(`GET ${path} ${error.message}`)));\n    // setTimeout(() => {\n    //   resolve([\n    //     {\n    //       cover: 'https://d1w7fb2mkkr3kw.cloudfront.net/assets/images/book/mid/9781/4088/9781408855652.jpg',\n    //       price: +'350',\n    //       title: \"Harry Potter and the Philosopher's Stone (I)\",\n    //       id: '9781408855652',\n    //     },\n    //     {\n    //       cover: 'https://d1w7fb2mkkr3kw.cloudfront.net/assets/images/book/mid/9781/4088/9781408855690.jpg',\n    //       price: +'380',\n    //       title: 'Harry Potter and the Order of the Phoenix (V)',\n    //       id: '9781408855690',\n    //     },\n    //     {\n    //       cover: 'https://d1w7fb2mkkr3kw.cloudfront.net/assets/images/book/mid/9781/4088/9781408855690.jpg',\n    //       price: +'380',\n    //       title: 'Harry Potter and the Order of the Phoenix (V)',\n    //       id: '9781408855690',\n    //     },\n    //     {\n    //       cover: 'https://d1w7fb2mkkr3kw.cloudfront.net/assets/images/book/mid/9781/4088/9781408855690.jpg',\n    //       price: +'380',\n    //       title: 'Harry Potter and the Order of the Phoenix (V)',\n    //       id: '9781408855690',\n    //     },\n    //     {\n    //       cover: 'https://d1w7fb2mkkr3kw.cloudfront.net/assets/images/book/mid/9781/4088/9781408855690.jpg',\n    //       price: +'380',\n    //       title: 'Harry Potter and the Order of the Phoenix (V)',\n    //       id: '9781408855690',\n    //     },\n    //     {\n    //       cover: 'https://d1w7fb2mkkr3kw.cloudfront.net/assets/images/book/mid/9781/5098/9781509809950.jpg',\n    //       price: +'160',\n    //       title: 'Solve For Happy',\n    //       id: '9781509809950',\n    //     },\n    //     {\n    //       cover: 'https://d1w7fb2mkkr3kw.cloudfront.net/assets/images/book/mid/9781/4736/9781473634176.jpg',\n    //       price: +'345',\n    //       title: 'The Confidence Project',\n    //       id: '9781473634176',\n    //     },\n    //   ]);\n    // }, 500);\n  });\n}\n\n\nexport {\n  getRequest,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/httpHelper.js","import logger from '../utils/logger';\nimport { getRequest } from '../utils/httpHelper';\n\n/**\n * @return {Promise<import('../store/modules/products').Book[]>}\n */\nconst fetchBooks = async () => {\n  logger.debug('Start fetch books info.');\n  const result = await getRequest({ path: 'books.json' });\n  return result;\n};\n\nexport {\n  fetchBooks,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/index.js","import actions from './actions';\nimport getters from './getters';\nimport mutations from './mutations';\n\n/**\n * @typedef {Object} Book\n * @property {string} cover\n * @property {string} price\n * @property {string} title\n * @property {string} id\n */\n/**\n * @typedef {Object} BooksState\n * @property {Book[]} books\n * @property {Book[]} displayBooks\n */\n/**\n * @type {BooksState} state\n */\nconst state = {\n  books: [],\n  displayBooks: [],\n};\n\nexport default {\n  namespaced: true,\n  state,\n  actions,\n  getters,\n  mutations,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/products/index.js","import { fetchBooks } from '@/api';\nimport logger from '@/utils/logger';\n\n/**\n * @param {Object} context\n * @param {Function} context.commit\n */\nconst getBooks = context => fetchBooks()\n  .then((res) => {\n    logger.debug('Fetch books success');\n    context.commit('BOOKS_UPDATED', res);\n    context.commit('FILTER_BOOKS', '');\n  })\n  .catch((err) => {\n    logger.error(JSON.stringify(err));\n  });\n\n/**\n *\n * @param {Function} param0.commit\n * @param {string} title\n */\nconst filterBooks = ({ commit }, title) => {\n  logger.debug(`Filter books from the given input ${title}`);\n  commit('FILTER_BOOKS', title);\n};\n\nexport default {\n  getBooks,\n  filterBooks,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/products/actions.js","/**\n *\n * @param {import(\".\").BooksState} state\n * @returns {import(\".\").Book[]}\n */\nconst books = state => state.books;\n\n/**\n *\n * @param {import(\".\").BooksState} state\n * @returns {import(\".\").Book[]}\n */\nconst displayBooks = state => state.displayBooks;\n\nexport default {\n  books,\n  displayBooks,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/products/getters.js","/**\n *\n * @param {import(\".\").BooksState} state\n * @param {import(\".\").Book[]} books\n */\nconst BOOKS_UPDATED = (state, books) => {\n  state.books = books;\n};\n\n/**\n *\n * @param {import(\".\").BooksState} state\n * @param {import(\".\").Book[]} books\n */\nconst FILTER_BOOKS = (state, title) => {\n  if (!title || title.length === 0) {\n    state.displayBooks = state.books;\n    return;\n  }\n  const compare = title.toLowerCase();\n  const displayBooks = state.books.filter(book => book.title.toLowerCase().includes(compare));\n  state.displayBooks = displayBooks;\n};\n\nexport default {\n  BOOKS_UPDATED,\n  FILTER_BOOKS,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/products/mutations.js","import logger from '@/utils/logger';\n\n/**\n *\n * @param {Function} param0.commit\n * @param {import(\"../products\").Book} book\n */\nconst addBookToCart = ({ commit }, book) => {\n  logger.debug('Add book to cart');\n  commit('ADD_TO_CART', book);\n  commit('CALCULATE_DISCOUNT');\n};\n\n/**\n *\n * @param {Function} param0.commit\n * @param {string} id\n */\nconst removeBookFromCart = ({ commit }, id) => {\n  logger.debug('Remove book from cart');\n  commit('REMOVE_FROM_CART', id);\n  commit('CALCULATE_DISCOUNT');\n};\n\n/**\n *\n * @param {Function} param0.commit\n * @param {string} id\n */\nconst decreaseBookInCart = ({ commit }, id) => {\n  logger.debug('Decrease book in cart');\n  commit('DECREASE_BOOK_IN_CART', id);\n  commit('CALCULATE_DISCOUNT');\n};\n\n/**\n *\n * @param {Function} param0.commit\n * @param {string} id\n */\nconst increaseBookInCart = ({ commit }, id) => {\n  logger.debug('Increase book in cart');\n  commit('INCREASE_BOOK_IN_CART', id);\n  commit('CALCULATE_DISCOUNT');\n};\n\n/**\n *\n * @param {Function} param0.commit\n */\nconst clearCart = ({ commit }) => {\n  logger.debug('Clear items in cart');\n  commit('CLEAR_CART');\n};\n\nexport default {\n  addBookToCart,\n  removeBookFromCart,\n  decreaseBookInCart,\n  increaseBookInCart,\n  clearCart,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/carts/actions.js","/**\n *\n * @param {import(\".\").CartState} state\n */\nconst cart = state => state.cart;\n/**\n *\n * @param {import(\".\").CartState} state\n */\nconst item = state => state.cart.item;\n\nexport default {\n  cart,\n  item,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/carts/getters.js","const HARRY_DISCOUNT = [0, 10, 11, 12, 13, 14, 15];\n\nexport {\n  HARRY_DISCOUNT,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/constant.js","import actions from './actions';\nimport getters from './getters';\nimport mutations from './mutations';\n\n/**\n * @typedef {Object} BookItem\n * @property {number} amount\n * @property {number} total\n */\n/**\n * @typedef {Object} CartItem\n * @property {import(\"../products\").Book[] & BookItem[]} books\n */\n/**\n * @typedef {Object} Cart\n * @property {CartItem} item\n * @property {number} subTotal\n * @property {number} total\n * @property {Discount} discount\n */\n/**\n * @typedef {Object} Discount\n * @property {DiscountBooks} books\n * @property {number} amount\n */\n/**\n * @typedef {Object} DiscountBooks\n * @property {Object} harry\n */\n/**\n * @typedef {Object} CartState\n * @property {Cart} cart\n */\n/**\n * @type {CartState} state\n */\nconst state = {\n  cart: {\n    item: {\n      books: [],\n    },\n    subTotal: 0,\n    total: 0,\n    discount: {\n      books: {\n        harry: {},\n      },\n      amount: 0,\n    },\n\n  },\n};\n\nexport default {\n  namespaced: true,\n  state,\n  actions,\n  getters,\n  mutations,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/carts/index.js","import Vue from 'vue';\nimport get from 'lodash.get';\nimport { HARRY_DISCOUNT } from '@/utils/constant';\nimport logger from '@/utils/logger';\n\n/**\n *\n * @param {import(\".\").CartState} state\n * @param {import(\"../products\").Book} book\n */\nconst ADD_TO_CART = (state, book) => {\n  const index = state.cart.item.books.map(b => b.id).indexOf(book.id);\n  const item = index > -1 ? state.cart.item.books[index] : { ...book };\n  const price = item.price;\n\n  item.amount = item.amount + 1 || 1;\n  item.total = item.total + price || price;\n\n  if (index === -1) {\n    state.cart.item.books.push(item);\n    if (book.title.includes('Harry Potter')) {\n      state.cart.discount.books.harry[book.id] = book.price;\n    }\n  } else {\n    Vue.set(state.cart.item.books, index, item);\n  }\n\n  state.cart.subTotal += price;\n};\n\n/**\n *\n * @param {import(\".\").CartState} state\n * @param {string} id\n */\nconst REMOVE_FROM_CART = (state, id) => {\n  const index = state.cart.item.books.map(b => b.id).indexOf(id);\n\n  if (index < 0) return;\n  logger.debug('Found book to remove from cart');\n\n  const removeItem = state.cart.item.books.splice(index, 1)[0];\n\n  if (typeof get(state, ['cart', 'discount', 'books', 'harry']) === 'object') {\n    delete state.cart.discount.books.harry[removeItem.id];\n  }\n\n  state.cart.subTotal -= removeItem.total;\n};\n\n/**\n *\n * @param {import(\".\").CartState} state\n * @param {string} id\n */\nconst DECREASE_BOOK_IN_CART = (state, id) => {\n  const index = state.cart.item.books.map(b => b.id).indexOf(id);\n  const book = state.cart.item.books[index];\n\n  if (!book || book.amount < 1) return;\n\n  book.amount -= 1;\n  book.total -= book.price;\n  Vue.set(state.cart.item.books, index, book);\n  state.cart.subTotal -= book.price;\n};\n\n/**\n *\n * @param {import(\".\").CartState} state\n * @param {string} id\n */\nconst INCREASE_BOOK_IN_CART = (state, id) => {\n  const index = state.cart.item.books.map(b => b.id).indexOf(id);\n  const book = state.cart.item.books[index];\n\n  if (!book) return;\n\n  book.amount += 1;\n  book.total += book.price;\n  Vue.set(state.cart.item.books, index, book);\n  state.cart.subTotal += book.price;\n};\n\n/**\n *\n * @param {import(\".\").CartState} state\n * @param {import(\"../products\").Book} book\n */\nconst EDIT_BOOK_CART = (state, book) => {\n  const { books } = state;\n  const index = books.indexOf(book);\n\n  if (index > -1) {\n    books[index] = book;\n  }\n};\n\n/**\n *\n * @param {import(\".\").CartState} state\n */\nconst CLEAR_CART = (state) => {\n  state.cart = {\n    item: {\n      books: [],\n    },\n    subTotal: 0,\n    total: 0,\n    discount: {\n      books: {\n        harry: {},\n      },\n      amount: 0,\n    },\n  };\n};\n\n/**\n *\n * @param {import('.').CartState} state.cart\n */\nconst CALCULATE_DISCOUNT = (state) => {\n  const {\n    subTotal,\n    discount: { books: { harry } },\n  } = state.cart;\n\n  if (!harry || typeof harry !== 'object') return;\n\n  const keys = Object.keys(harry);\n  const basePrice = keys.reduce((sum, key) => sum + harry[key], 0);\n  let discountAmount = 0;\n\n  if (keys.length > 0) {\n    discountAmount = basePrice * (HARRY_DISCOUNT[keys.length - 1] / 100);\n  }\n  const total = subTotal - discountAmount;\n\n  state.cart.total = total;\n  state.cart.discount.amount = discountAmount;\n};\n\nexport default {\n  ADD_TO_CART,\n  REMOVE_FROM_CART,\n  DECREASE_BOOK_IN_CART,\n  INCREASE_BOOK_IN_CART,\n  EDIT_BOOK_CART,\n  CLEAR_CART,\n  CALCULATE_DISCOUNT,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/carts/mutations.js","import Vue from 'vue';\nimport Vuex from 'vuex';\nimport productsModule from './modules/products';\nimport cartsModule from './modules/carts';\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  modules: {\n    products: productsModule,\n    carts: cartsModule,\n  },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n  created() {\n    console.log('I was born here');\n  },\n  mounted() {\n    console.log('I was render here');\n  },\n  beforeDestroy() {\n    console.log('This is my last word');\n  },\n};\n</script>\n\n<style>\n@import url('https://fonts.cdnfonts.com/css/volte');\nhtml,\nbody {\n  height: 100vh;\n}\nbody,\nh1 {\n  margin: 0;\n}\ninput[type=text] {\n  border: 0;\n  -webkit-border-radius: 0;\n  -webkit-text-size-adjust: none;\n  -webkit-appearance: none;\n}\n:focus {\n  outline: none !important;\n}\n#app {\n  font-family: 'Volte', sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  height: 100vh;\n}\n.cursor-pointer {\n  cursor: pointer;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c390c4fa\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c390c4fa\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c390c4fa\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\nimport VuejsDialog from 'vuejs-dialog';\nimport 'vuejs-dialog/dist/vuejs-dialog.min.css';\nimport App from './App';\nimport router from './router';\nimport store from './store';\n\n\nVue.config.productionTip = false;\nVue.use(VuejsDialog);\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  render: h => h(App),\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import Vue from 'vue';\nimport Router from 'vue-router';\n\nVue.use(Router);\n\n/**\n * @typedef {Object} route\n * @property {string} path\n * @property {string} name\n * @property {Object} component\n */\nconst routes = [{\n  path: '/',\n  name: 'HomeView',\n  component: () => import(/* webpackPrefetch: true */'@/views/Home'),\n}, {\n  path: '/payment',\n  name: 'PaymentView',\n  component: () => import(/* webpackPrefetch: true */'@/views/Payment'),\n}];\n\nexport default new Router({\n  mode: 'history',\n  routes,\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js"],"sourceRoot":""}