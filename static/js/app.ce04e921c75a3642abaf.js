webpackJsonp([3],{"8cFf":function(t,o){},IcnI:function(t,o,e){"use strict";var r=e("/5sW"),n=e("NYxO"),a=e("mvHQ"),i=e.n(a),c=e("Xxa5"),s=e.n(c),u=e("exGp"),d=e.n(u);var f,m={debug:function(t,o){console.log(t,i()(o)||"")},error:function(t){console.log(t)}},l=e("//Fk"),p=e.n(l),k=(f=d()(s.a.mark(function t(o){o.path;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new p.a(function(t,o){setTimeout(function(){t([{cover:"https://d1w7fb2mkkr3kw.cloudfront.net/assets/images/book/mid/9781/4088/9781408855652.jpg",price:350,title:"Harry Potter and the Philosopher's Stone (I)",id:"9781408855652"},{cover:"https://d1w7fb2mkkr3kw.cloudfront.net/assets/images/book/mid/9781/4088/9781408855690.jpg",price:380,title:"Harry Potter and the Order of the Phoenix (V)",id:"9781408855690"},{cover:"https://d1w7fb2mkkr3kw.cloudfront.net/assets/images/book/mid/9781/4088/9781408855690.jpg",price:380,title:"Harry Potter and the Order of the Phoenix (V)",id:"9781408855690"},{cover:"https://d1w7fb2mkkr3kw.cloudfront.net/assets/images/book/mid/9781/4088/9781408855690.jpg",price:380,title:"Harry Potter and the Order of the Phoenix (V)",id:"9781408855690"},{cover:"https://d1w7fb2mkkr3kw.cloudfront.net/assets/images/book/mid/9781/4088/9781408855690.jpg",price:380,title:"Harry Potter and the Order of the Phoenix (V)",id:"9781408855690"},{cover:"https://d1w7fb2mkkr3kw.cloudfront.net/assets/images/book/mid/9781/5098/9781509809950.jpg",price:160,title:"Solve For Happy",id:"9781509809950"},{cover:"https://d1w7fb2mkkr3kw.cloudfront.net/assets/images/book/mid/9781/4736/9781473634176.jpg",price:345,title:"The Confidence Project",id:"9781473634176"}])},500)}));case 1:case"end":return t.stop()}},t,this)})),function(t){return f.apply(this,arguments)});var b,h=this,v=(b=d()(s.a.mark(function t(){var o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return m.debug("Start fetch books info."),t.next=3,k({path:"books.json"});case 3:return o=t.sent,t.abrupt("return",o);case 5:case"end":return t.stop()}},t,h)})),function(){return b.apply(this,arguments)}),O={namespaced:!0,state:{books:[],displayBooks:[]},actions:{getBooks:function(t){return v().then(function(o){m.debug("Fetch books success"),t.commit("BOOKS_UPDATED",o),t.commit("FILTER_BOOKS","")}).catch(function(t){m.error(i()(t))})},filterBooks:function(t,o){var e=t.commit;m.debug("Filter books from the given input "+o),e("FILTER_BOOKS",o)}},getters:{books:function(t){return t.books},displayBooks:function(t){return t.displayBooks}},mutations:{BOOKS_UPDATED:function(t,o){t.books=o},FILTER_BOOKS:function(t,o){if(o&&0!==o.length){var e=o.toLowerCase(),r=t.books.filter(function(t){return t.title.toLowerCase().includes(e)});t.displayBooks=r}else t.displayBooks=t.books}}},T={addBookToCart:function(t,o){var e=t.commit;m.debug("Add book to cart"),e("ADD_TO_CART",o),e("CALCULATE_DISCOUNT")},removeBookFromCart:function(t,o){var e=t.commit;m.debug("Remove book from cart"),e("REMOVE_FROM_CART",o),e("CALCULATE_DISCOUNT")},decreaseBookInCart:function(t,o){var e=t.commit;m.debug("Decrease book in cart"),e("DECREASE_BOOK_IN_CART",o),e("CALCULATE_DISCOUNT")},increaseBookInCart:function(t,o){var e=t.commit;m.debug("Increase book in cart"),e("INCREASE_BOOK_IN_CART",o),e("CALCULATE_DISCOUNT")},clearCart:function(t){var o=t.commit;m.debug("Clear items in cart"),o("CLEAR_CART")}},C={cart:function(t){return t.cart},item:function(t){return t.cart.item}},g=e("fZjL"),_=e.n(g),A=e("pFYg"),w=e.n(A),E=e("Dd8w"),y=e.n(E),R=e("y3TV"),I=e.n(R),B=[0,10,11,12,13,14,15],D={namespaced:!0,state:{cart:{item:{books:[]},subTotal:0,total:0,discount:{books:{harry:{}},amount:0}}},actions:T,getters:C,mutations:{ADD_TO_CART:function(t,o){var e=t.cart.item.books.map(function(t){return t.id}).indexOf(o.id),n=e>-1?t.cart.item.books[e]:y()({},o),a=n.price;n.amount=n.amount+1||1,n.total=n.total+a||a,-1===e?(t.cart.item.books.push(n),o.title.includes("Harry Potter")&&(t.cart.discount.books.harry[o.id]=o.price)):r.a.set(t.cart.item.books,e,n),t.cart.subTotal+=a},REMOVE_FROM_CART:function(t,o){var e=t.cart.item.books.map(function(t){return t.id}).indexOf(o);if(!(e<0)){m.debug("Found book to remove from cart");var r=t.cart.item.books.splice(e,1)[0];"object"===w()(I()(t,["cart","discount","books","harry"]))&&delete t.cart.discount.books.harry[r.id],t.cart.subTotal-=r.total}},DECREASE_BOOK_IN_CART:function(t,o){var e=t.cart.item.books.map(function(t){return t.id}).indexOf(o),n=t.cart.item.books[e];!n||n.amount<1||(n.amount-=1,n.total-=n.price,r.a.set(t.cart.item.books,e,n),t.cart.subTotal-=n.price)},INCREASE_BOOK_IN_CART:function(t,o){var e=t.cart.item.books.map(function(t){return t.id}).indexOf(o),n=t.cart.item.books[e];n&&(n.amount+=1,n.total+=n.price,r.a.set(t.cart.item.books,e,n),t.cart.subTotal+=n.price)},EDIT_BOOK_CART:function(t,o){var e=t.books,r=e.indexOf(o);r>-1&&(e[r]=o)},CLEAR_CART:function(t){t.cart={item:{books:[]},subTotal:0,total:0,discount:{books:{harry:{}},amount:0}}},CALCULATE_DISCOUNT:function(t){var o=t.cart,e=o.subTotal,r=o.discount.books.harry;if(r&&"object"===(void 0===r?"undefined":w()(r))){var n=_()(r),a=n.reduce(function(t,o){return t+r[o]},0),i=0;n.length>0&&(i=a*(B[n.length-1]/100));var c=e-i;t.cart.total=c,t.cart.discount.amount=i}}}};r.a.use(n.a),console.log(O);o.a=new n.a.Store({modules:{products:O,carts:D}})},NHnr:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=e("/5sW"),n=e("7VfX"),a=e.n(n),i=(e("8cFf"),{name:"App",created:function(){console.log("I was born here")},mounted:function(){console.log("I was render here")},beforeDestroy:function(){console.log("This is my last word")}}),c={render:function(){var t=this.$createElement,o=this._self._c||t;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},staticRenderFns:[]};var s=e("VU/8")(i,c,!1,function(t){e("pD8A")},null,null).exports,u=e("YaEn"),d=e("IcnI");r.a.config.productionTip=!1,r.a.use(a.a),new r.a({el:"#app",router:u.a,store:d.a,render:function(t){return t(s)}})},YaEn:function(t,o,e){"use strict";var r=e("/5sW"),n=e("/ocq");r.a.use(n.a);var a=[{path:"/",name:"HomeView",component:function(){return e.e(0).then(e.bind(null,"j7e0"))}},{path:"/payment",name:"PaymentView",component:function(){return e.e(1).then(e.bind(null,"TxOz"))}}];o.a=new n.a({mode:"history",routes:a})},pD8A:function(t,o){}},["NHnr"]);
//# sourceMappingURL=app.ce04e921c75a3642abaf.js.map