{"version":3,"sources":["webpack:///./src/utils/logger.js","webpack:///./src/utils/httpHelper.js","webpack:///./src/api/index.js","webpack:///./src/store/modules/products/index.js","webpack:///./src/store/modules/products/actions.js","webpack:///./src/store/modules/products/getters.js","webpack:///./src/store/modules/products/mutations.js","webpack:///./src/store/modules/carts/actions.js","webpack:///./src/store/modules/carts/getters.js","webpack:///./src/utils/constant.js","webpack:///./src/store/modules/carts/index.js","webpack:///./src/store/modules/carts/mutations.js","webpack:///./src/store/index.js","webpack:///src/App.vue","webpack:///./src/App.vue?3eb1","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/router/index.js"],"names":["logger","debug","message","obj","console","log","stringify_default","error","ex","_callee","_ref3","path","regenerator_default","a","wrap","_context","prev","next","abrupt","promise_default","resolve","reject","setTimeout","cover","price","title","id","stop","this","_ref","fetchBooks","asyncToGenerator_default","mark","result","getRequest","sent","_this","apply","arguments","products","namespaced","state","books","displayBooks","actions","getBooks","context","then","res","commit","catch","err","filterBooks","getters","mutations","BOOKS_UPDATED","FILTER_BOOKS","length","compare","toLowerCase","filter","book","includes","carts_actions","addBookToCart","removeBookFromCart","_ref2","decreaseBookInCart","increaseBookInCart","_ref4","clearCart","_ref5","carts_getters","cart","item","HARRY_DISCOUNT","carts","subTotal","total","discount","harry","amount","ADD_TO_CART","index","map","b","indexOf","extends_default","push","Vue","set","REMOVE_FROM_CART","removeItem","splice","typeof_default","get","DECREASE_BOOK_IN_CART","INCREASE_BOOK_IN_CART","EDIT_BOOK_CART","CLEAR_CART","CALCULATE_DISCOUNT","_state$cart","keys","keys_default","basePrice","reduce","sum","key","discountAmount","use","Vuex","productsModule","__webpack_exports__","Store","modules","cartsModule","App","selectortype_template_index_0_src_App","render","_h","$createElement","_c","_self","attrs","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","config","productionTip","VuejsDialog","el","router","store","h","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_vue_router__","Router","routes","name","component","e","bind","mode"],"mappings":"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","file":"static/js/app.ce04e921c75a3642abaf.js","sourcesContent":["// Not support on web browser\n// import winston from 'winston';\n// import { NODE_ENV, ALLOW_LOG_LEVEL } from '../config';\n\n/**\n * @param {stirng} message\n * @param {Object} obj\n */\nfunction debug(message, obj) { console.log(message, JSON.stringify(obj) || ''); }\n/**\n * @param {Error} ex\n */\nfunction error(ex) { console.log(ex); }\n\nconst logger = {\n  debug,\n  error,\n};\n// winston.createLogger({\n//   level: ALLOW_LOG_LEVEL,\n//   format: winston.format.json(),\n//   transports: [\n//     // new Sentry([]),\n//   ],\n// });\n\n// if (NODE_ENV !== 'production') {\n//   logger.add(new BrowserConsole({\n//     format: winston.format.simple(),\n//   }));\n// }\n\nexport default logger;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/logger.js","// import axios from 'axios';\n\n/**\n * @param {Object} param0\n * @param {string} version\n * @param {string} path\n * @param {string} id\n * @param {string} queryString\n */\nfunction generateUrl({\n  version, path, id, queryString,\n}) {\n  let url = 'https://json-bin.netlify.com';\n  url += version ? `/${version}` : '';\n  url += path ? `/${path}` : '';\n  url += id ? `/${id}` : '';\n  url += queryString ? `?${queryString}` : '';\n  return url;\n}\n\n/**\n * @param {Object} param0\n * @param {string} param0.path\n */\nasync function getRequest({ path }) {\n  return new Promise((resolve, reject) => {\n    // axios.get(generateUrl({ path }), {\n    //   headers: {},\n    // })\n    //   .then((res) => {\n    //     console.log(res);\n    //     return resolve(res);\n    //   })\n    //   .catch(error => reject(new Error(`GET ${path} ${error.message}`)));\n    // fetch(generateUrl({ path }), {\n    // //   mode: 'no-cors',\n    //   method: 'GET',\n    // })\n    //   .then((res) => {\n    //     console.log(res);\n    //     if (res.ok) {\n    //       return res.json();\n    //     }\n    //     return reject({ status: res.status });\n    //   })\n    //   .then((json) => {\n    //     console.log(json);\n    //     return resolve(json);\n    //   })\n    //   .catch(error => reject(new Error(`GET ${path} ${error.message}`)));\n    setTimeout(() => {\n      resolve([\n        {\n          cover: 'https://d1w7fb2mkkr3kw.cloudfront.net/assets/images/book/mid/9781/4088/9781408855652.jpg',\n          price: +'350',\n          title: \"Harry Potter and the Philosopher's Stone (I)\",\n          id: '9781408855652',\n        },\n        {\n          cover: 'https://d1w7fb2mkkr3kw.cloudfront.net/assets/images/book/mid/9781/4088/9781408855690.jpg',\n          price: +'380',\n          title: 'Harry Potter and the Order of the Phoenix (V)',\n          id: '9781408855690',\n        },\n        {\n          cover: 'https://d1w7fb2mkkr3kw.cloudfront.net/assets/images/book/mid/9781/4088/9781408855690.jpg',\n          price: +'380',\n          title: 'Harry Potter and the Order of the Phoenix (V)',\n          id: '9781408855690',\n        },\n        {\n          cover: 'https://d1w7fb2mkkr3kw.cloudfront.net/assets/images/book/mid/9781/4088/9781408855690.jpg',\n          price: +'380',\n          title: 'Harry Potter and the Order of the Phoenix (V)',\n          id: '9781408855690',\n        },\n        {\n          cover: 'https://d1w7fb2mkkr3kw.cloudfront.net/assets/images/book/mid/9781/4088/9781408855690.jpg',\n          price: +'380',\n          title: 'Harry Potter and the Order of the Phoenix (V)',\n          id: '9781408855690',\n        },\n        {\n          cover: 'https://d1w7fb2mkkr3kw.cloudfront.net/assets/images/book/mid/9781/5098/9781509809950.jpg',\n          price: +'160',\n          title: 'Solve For Happy',\n          id: '9781509809950',\n        },\n        {\n          cover: 'https://d1w7fb2mkkr3kw.cloudfront.net/assets/images/book/mid/9781/4736/9781473634176.jpg',\n          price: +'345',\n          title: 'The Confidence Project',\n          id: '9781473634176',\n        },\n      ]);\n    }, 500);\n  });\n}\n\n\nexport {\n  getRequest,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/httpHelper.js","import logger from '../utils/logger';\nimport { getRequest } from '../utils/httpHelper';\n\n/**\n * @return {Promise<import('../store/modules/products').Book[]>}\n */\nconst fetchBooks = async () => {\n  logger.debug('Start fetch books info.');\n  const result = await getRequest({ path: 'books.json' });\n  return result;\n};\n\nexport {\n  fetchBooks,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/index.js","import actions from './actions';\nimport getters from './getters';\nimport mutations from './mutations';\n\n/**\n * @typedef {Object} Book\n * @property {string} cover\n * @property {string} price\n * @property {string} title\n * @property {string} id\n */\n/**\n * @typedef {Object} BooksState\n * @property {Book[]} books\n * @property {Book[]} displayBooks\n */\n/**\n * @type {BooksState} state\n */\nconst state = {\n  books: [],\n  displayBooks: [],\n};\n\nexport default {\n  namespaced: true,\n  state,\n  actions,\n  getters,\n  mutations,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/products/index.js","import { fetchBooks } from '@/api';\nimport logger from '@/utils/logger';\n\n/**\n * @param {Object} context\n * @param {Function} context.commit\n */\nconst getBooks = context => fetchBooks()\n  .then((res) => {\n    logger.debug('Fetch books success');\n    context.commit('BOOKS_UPDATED', res);\n    context.commit('FILTER_BOOKS', '');\n  })\n  .catch((err) => {\n    logger.error(JSON.stringify(err));\n  });\n\n/**\n *\n * @param {Function} param0.commit\n * @param {string} title\n */\nconst filterBooks = ({ commit }, title) => {\n  logger.debug(`Filter books from the given input ${title}`);\n  commit('FILTER_BOOKS', title);\n};\n\nexport default {\n  getBooks,\n  filterBooks,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/products/actions.js","/**\n *\n * @param {import(\".\").BooksState} state\n * @returns {import(\".\").Book[]}\n */\nconst books = state => state.books;\n\n/**\n *\n * @param {import(\".\").BooksState} state\n * @returns {import(\".\").Book[]}\n */\nconst displayBooks = state => state.displayBooks;\n\nexport default {\n  books,\n  displayBooks,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/products/getters.js","/**\n *\n * @param {import(\".\").BooksState} state\n * @param {import(\".\").Book[]} books\n */\nconst BOOKS_UPDATED = (state, books) => {\n  state.books = books;\n};\n\n/**\n *\n * @param {import(\".\").BooksState} state\n * @param {import(\".\").Book[]} books\n */\nconst FILTER_BOOKS = (state, title) => {\n  if (!title || title.length === 0) {\n    state.displayBooks = state.books;\n    return;\n  }\n  const compare = title.toLowerCase();\n  const displayBooks = state.books.filter(book => book.title.toLowerCase().includes(compare));\n  state.displayBooks = displayBooks;\n};\n\nexport default {\n  BOOKS_UPDATED,\n  FILTER_BOOKS,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/products/mutations.js","import logger from '@/utils/logger';\n\n/**\n *\n * @param {Function} param0.commit\n * @param {import(\"../products\").Book} book\n */\nconst addBookToCart = ({ commit }, book) => {\n  logger.debug('Add book to cart');\n  commit('ADD_TO_CART', book);\n  commit('CALCULATE_DISCOUNT');\n};\n\n/**\n *\n * @param {Function} param0.commit\n * @param {string} id\n */\nconst removeBookFromCart = ({ commit }, id) => {\n  logger.debug('Remove book from cart');\n  commit('REMOVE_FROM_CART', id);\n  commit('CALCULATE_DISCOUNT');\n};\n\n/**\n *\n * @param {Function} param0.commit\n * @param {string} id\n */\nconst decreaseBookInCart = ({ commit }, id) => {\n  logger.debug('Decrease book in cart');\n  commit('DECREASE_BOOK_IN_CART', id);\n  commit('CALCULATE_DISCOUNT');\n};\n\n/**\n *\n * @param {Function} param0.commit\n * @param {string} id\n */\nconst increaseBookInCart = ({ commit }, id) => {\n  logger.debug('Increase book in cart');\n  commit('INCREASE_BOOK_IN_CART', id);\n  commit('CALCULATE_DISCOUNT');\n};\n\n/**\n *\n * @param {Function} param0.commit\n */\nconst clearCart = ({ commit }) => {\n  logger.debug('Clear items in cart');\n  commit('CLEAR_CART');\n};\n\nexport default {\n  addBookToCart,\n  removeBookFromCart,\n  decreaseBookInCart,\n  increaseBookInCart,\n  clearCart,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/carts/actions.js","/**\n *\n * @param {import(\".\").CartState} state\n */\nconst cart = state => state.cart;\n/**\n *\n * @param {import(\".\").CartState} state\n */\nconst item = state => state.cart.item;\n\nexport default {\n  cart,\n  item,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/carts/getters.js","const HARRY_DISCOUNT = [0, 10, 11, 12, 13, 14, 15];\n\nexport {\n  HARRY_DISCOUNT,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/constant.js","import actions from './actions';\nimport getters from './getters';\nimport mutations from './mutations';\n\n/**\n * @typedef {Object} BookItem\n * @property {number} amount\n * @property {number} total\n */\n/**\n * @typedef {Object} CartItem\n * @property {import(\"../products\").Book[] & BookItem[]} books\n */\n/**\n * @typedef {Object} Cart\n * @property {CartItem} item\n * @property {number} subTotal\n * @property {number} total\n * @property {Discount} discount\n */\n/**\n * @typedef {Object} Discount\n * @property {DiscountBooks} books\n * @property {number} amount\n */\n/**\n * @typedef {Object} DiscountBooks\n * @property {Object} harry\n */\n/**\n * @typedef {Object} CartState\n * @property {Cart} cart\n */\n/**\n * @type {CartState} state\n */\nconst state = {\n  cart: {\n    item: {\n      books: [],\n    },\n    subTotal: 0,\n    total: 0,\n    discount: {\n      books: {\n        harry: {},\n      },\n      amount: 0,\n    },\n\n  },\n};\n\nexport default {\n  namespaced: true,\n  state,\n  actions,\n  getters,\n  mutations,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/carts/index.js","import Vue from 'vue';\nimport get from 'lodash.get';\nimport { HARRY_DISCOUNT } from '@/utils/constant';\nimport logger from '@/utils/logger';\n\n/**\n *\n * @param {import(\".\").CartState} state\n * @param {import(\"../products\").Book} book\n */\nconst ADD_TO_CART = (state, book) => {\n  const index = state.cart.item.books.map(b => b.id).indexOf(book.id);\n  const item = index > -1 ? state.cart.item.books[index] : { ...book };\n  const price = item.price;\n\n  item.amount = item.amount + 1 || 1;\n  item.total = item.total + price || price;\n\n  if (index === -1) {\n    state.cart.item.books.push(item);\n    if (book.title.includes('Harry Potter')) {\n      state.cart.discount.books.harry[book.id] = book.price;\n    }\n  } else {\n    Vue.set(state.cart.item.books, index, item);\n  }\n\n  state.cart.subTotal += price;\n};\n\n/**\n *\n * @param {import(\".\").CartState} state\n * @param {string} id\n */\nconst REMOVE_FROM_CART = (state, id) => {\n  const index = state.cart.item.books.map(b => b.id).indexOf(id);\n\n  if (index < 0) return;\n  logger.debug('Found book to remove from cart');\n\n  const removeItem = state.cart.item.books.splice(index, 1)[0];\n\n  if (typeof get(state, ['cart', 'discount', 'books', 'harry']) === 'object') {\n    delete state.cart.discount.books.harry[removeItem.id];\n  }\n\n  state.cart.subTotal -= removeItem.total;\n};\n\n/**\n *\n * @param {import(\".\").CartState} state\n * @param {string} id\n */\nconst DECREASE_BOOK_IN_CART = (state, id) => {\n  const index = state.cart.item.books.map(b => b.id).indexOf(id);\n  const book = state.cart.item.books[index];\n\n  if (!book || book.amount < 1) return;\n\n  book.amount -= 1;\n  book.total -= book.price;\n  Vue.set(state.cart.item.books, index, book);\n  state.cart.subTotal -= book.price;\n};\n\n/**\n *\n * @param {import(\".\").CartState} state\n * @param {string} id\n */\nconst INCREASE_BOOK_IN_CART = (state, id) => {\n  const index = state.cart.item.books.map(b => b.id).indexOf(id);\n  const book = state.cart.item.books[index];\n\n  if (!book) return;\n\n  book.amount += 1;\n  book.total += book.price;\n  Vue.set(state.cart.item.books, index, book);\n  state.cart.subTotal += book.price;\n};\n\n/**\n *\n * @param {import(\".\").CartState} state\n * @param {import(\"../products\").Book} book\n */\nconst EDIT_BOOK_CART = (state, book) => {\n  const { books } = state;\n  const index = books.indexOf(book);\n\n  if (index > -1) {\n    books[index] = book;\n  }\n};\n\n/**\n *\n * @param {import(\".\").CartState} state\n */\nconst CLEAR_CART = (state) => {\n  state.cart = {\n    item: {\n      books: [],\n    },\n    subTotal: 0,\n    total: 0,\n    discount: {\n      books: {\n        harry: {},\n      },\n      amount: 0,\n    },\n  };\n};\n\n/**\n *\n * @param {import('.').CartState} state.cart\n */\nconst CALCULATE_DISCOUNT = (state) => {\n  const {\n    subTotal,\n    discount: { books: { harry } },\n  } = state.cart;\n\n  if (!harry || typeof harry !== 'object') return;\n\n  const keys = Object.keys(harry);\n  const basePrice = keys.reduce((sum, key) => sum + harry[key], 0);\n  let discountAmount = 0;\n\n  if (keys.length > 0) {\n    discountAmount = basePrice * (HARRY_DISCOUNT[keys.length - 1] / 100);\n  }\n  const total = subTotal - discountAmount;\n\n  state.cart.total = total;\n  state.cart.discount.amount = discountAmount;\n};\n\nexport default {\n  ADD_TO_CART,\n  REMOVE_FROM_CART,\n  DECREASE_BOOK_IN_CART,\n  INCREASE_BOOK_IN_CART,\n  EDIT_BOOK_CART,\n  CLEAR_CART,\n  CALCULATE_DISCOUNT,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/carts/mutations.js","import Vue from 'vue';\nimport Vuex from 'vuex';\nimport productsModule from './modules/products';\nimport cartsModule from './modules/carts';\n\nVue.use(Vuex);\n\nconsole.log(productsModule);\n\n\nexport default new Vuex.Store({\n  modules: {\n    products: productsModule,\n    carts: cartsModule,\n  },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n  created() {\n    console.log('I was born here');\n  },\n  mounted() {\n    console.log('I was render here');\n  },\n  beforeDestroy() {\n    console.log('This is my last word');\n  },\n};\n</script>\n\n<style>\n@import url('https://fonts.cdnfonts.com/css/volte');\nhtml,\nbody {\n  height: 100vh;\n}\nbody,\nh1 {\n  margin: 0;\n}\ninput[type=text] {\n  border: 0;\n  -webkit-border-radius: 0;\n  -webkit-text-size-adjust: none;\n  -webkit-appearance: none;\n}\n:focus {\n  outline: none !important;\n}\n#app {\n  font-family: 'Volte', sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  height: 100vh;\n}\n.cursor-pointer {\n  cursor: pointer;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c390c4fa\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c390c4fa\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c390c4fa\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\nimport VuejsDialog from 'vuejs-dialog';\nimport 'vuejs-dialog/dist/vuejs-dialog.min.css';\nimport App from './App';\nimport router from './router';\nimport store from './store';\n\n\nVue.config.productionTip = false;\nVue.use(VuejsDialog);\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  render: h => h(App),\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import Vue from 'vue';\nimport Router from 'vue-router';\n\nVue.use(Router);\n\n/**\n * @typedef {Object} route\n * @property {string} path\n * @property {string} name\n * @property {Object} component\n */\nconst routes = [{\n  path: '/',\n  name: 'HomeView',\n  component: () => import(/* webpackPrefetch: true */'@/views/Home'),\n}, {\n  path: '/payment',\n  name: 'PaymentView',\n  component: () => import(/* webpackPrefetch: true */'@/views/Payment'),\n}];\n\nexport default new Router({\n  mode: 'history',\n  routes,\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js"],"sourceRoot":""}