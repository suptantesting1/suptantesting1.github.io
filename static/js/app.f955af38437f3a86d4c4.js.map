{"version":3,"sources":["webpack:///./src/config.js","webpack:///./src/utils/logger.js","webpack:///./src/utils/httpHelper.js","webpack:///./src/api/index.js","webpack:///./src/store/modules/products/index.js","webpack:///./src/store/modules/products/actions.js","webpack:///./src/store/modules/products/getters.js","webpack:///./src/store/modules/products/mutations.js","webpack:///./src/store/modules/carts/actions.js","webpack:///./src/store/modules/carts/getters.js","webpack:///./src/utils/constant.js","webpack:///./src/store/modules/carts/index.js","webpack:///./src/store/modules/carts/mutations.js","webpack:///./src/store/index.js","webpack:///src/App.vue","webpack:///./src/App.vue?3eb1","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/router/index.js"],"names":["process","ALLOW_LOG_LEVEL","PROXY_URL","NODE_ENV","RESOURCE_URL","ENABLED_PROXY","logger","debug","message","obj","console","log","error","ex","_callee","url","option","regenerator_default","a","wrap","_context","prev","next","method","headers","Content-Type","abrupt","promise_default","resolve","reject","fetch","then","res","ok","json","status","catch","generateProxyUrl","exception","Error","stop","this","fetchBooks","_ref","asyncToGenerator_default","mark","data","books","getRequest","sent","get","map","book","extends_default","price","_this","apply","arguments","products","namespaced","state","displayBooks","isFetchBooks","actions","getBooks","context","commit","err","stringify_default","filterBooks","title","getters","mutations","BOOKS_UPDATED","FILTER_BOOKS","length","compare","toLowerCase","filter","includes","SET_IS_FETCH_BOOK","flag","carts_actions","addBookToCart","removeBookFromCart","_ref2","id","decreaseBookInCart","_ref3","increaseBookInCart","_ref4","clearCart","_ref5","carts_getters","cart","item","HARRY_DISCOUNT","carts","subTotal","total","discount","harry","amount","ADD_TO_CART","index","b","indexOf","push","Vue","set","REMOVE_FROM_CART","removeItem","splice","typeof_default","DECREASE_BOOK_IN_CART","INCREASE_BOOK_IN_CART","EDIT_BOOK_CART","CLEAR_CART","CALCULATE_DISCOUNT","_state$cart","keys","keys_default","basePrice","reduce","sum","key","discountAmount","use","Vuex","__webpack_exports__","Store","modules","productsModule","cartsModule","App","selectortype_template_index_0_src_App","render","_h","$createElement","_c","_self","attrs","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","config","productionTip","VuejsDialog","el","router","store","h","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_vue_router__","Router","routes","path","name","component","e","bind","mode"],"mappings":"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","file":"static/js/app.f955af38437f3a86d4c4.js","sourcesContent":["export const {\n  ALLOW_LOG_LEVEL,\n  NODE_ENV,\n  PROXY_URL,\n  ENABLED_PROXY,\n  RESOURCE_URL,\n} = process.env;\n\n\n\n// WEBPACK FOOTER //\n// ./src/config.js","// Not support on web browser\n// import winston from 'winston';\nimport { ALLOW_LOG_LEVEL } from '../config';\n\n/**\n * @param {string} message\n * @param {Object} obj\n */\nfunction debug(message, obj) {\n  if (ALLOW_LOG_LEVEL === 'debug') {\n    console.log(message, obj || ''); // eslint-disable-line\n  }\n}\n/**\n * @param {Error} ex\n */\nfunction error(ex) {\n  console.log(ex); // eslint-disable-line\n}\n\nconst logger = {\n  debug,\n  error,\n};\n// winston.createLogger({\n//   level: ALLOW_LOG_LEVEL,\n//   format: winston.format.json(),\n//   transports: [\n//     // new Sentry([]),\n//   ],\n// });\n\n// if (NODE_ENV !== 'production') {\n//   logger.add(new BrowserConsole({\n//     format: winston.format.simple(),\n//   }));\n// }\n\nexport default logger;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/logger.js","import { PROXY_URL } from '../config';\nimport logger from './logger';\n\n// import axios from 'axios';\n/**\n *\n * @param {string} url\n * @returns {string}\n */\nfunction generateProxyUrl(url) {\n  const proxyUrl = PROXY_URL;\n  return proxyUrl + url;\n}\n\n/**\n * @param {Object} param0\n * @param {string} param0.path\n */\nasync function getRequest(url) {\n  const option = {\n    // mode: 'no-cors',\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  };\n  return new Promise((resolve, reject) => {\n    fetch(url, option)\n      .then((res) => {\n        logger.debug(res);\n        if (res.ok) {\n          return res.json();\n        }\n        return reject({ status: res.status });\n      })\n      .then((json) => {\n        logger.debug(json);\n        return resolve(json);\n      })\n      .catch((error) => {\n        logger.debug('Retry Fetch data', error);\n        fetch(generateProxyUrl(url), option)\n          .then((res) => {\n            if (res.ok) {\n              return res.json();\n            }\n            return reject({ status: res.status });\n          })\n          .then(json => resolve(json))\n          .catch(exception => reject(new Error(`GET ${url} ${exception.message}`)));\n      });\n  });\n}\n\n\nexport {\n  getRequest,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/httpHelper.js","import get from 'lodash.get';\nimport logger from '../utils/logger';\nimport { getRequest } from '../utils/httpHelper';\nimport { RESOURCE_URL } from '../config';\n\n/**\n * @return {Promise<import('../store/modules/products').Book[]>}\n */\nconst fetchBooks = async () => {\n  logger.debug('Start fetch books info.');\n  const data = await getRequest(RESOURCE_URL);\n  logger.debug('Done fetch books info.');\n\n  logger.debug('Start Transform books info.');\n  const books = get(data, 'books', []).map(book => ({ ...book, price: +book.price }));\n  logger.debug('Done Transform books info.');\n  return books;\n};\n\nexport {\n  fetchBooks,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/index.js","import actions from './actions';\nimport getters from './getters';\nimport mutations from './mutations';\n\n/**\n * @typedef {Object} Book\n * @property {string} cover\n * @property {string} price\n * @property {string} title\n * @property {string} id\n */\n/**\n * @typedef {Object} BooksState\n * @property {Book[]} books\n * @property {Book[]} displayBooks\n * @property {boolean} isFetchBooks\n */\n/**\n * @type {BooksState} state\n */\nconst state = {\n  books: [],\n  displayBooks: [],\n  isFetchBooks: false,\n};\n\nexport default {\n  namespaced: true,\n  state,\n  actions,\n  getters,\n  mutations,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/products/index.js","import { fetchBooks } from '@/api';\nimport logger from '@/utils/logger';\n\n/**\n * @param {Object} context\n * @param {Function} context.commit\n */\nconst getBooks = (context) => {\n  context.commit('SET_IS_FETCH_BOOK', true);\n  return fetchBooks()\n    .then((res) => {\n      logger.debug('Fetch books success');\n      context.commit('SET_IS_FETCH_BOOK', false);\n      context.commit('BOOKS_UPDATED', res);\n      context.commit('FILTER_BOOKS', '');\n    })\n    .catch((err) => {\n      logger.error(JSON.stringify(err));\n      context.commit('SET_IS_FETCH_BOOK', false);\n    });\n};\n\n/**\n *\n * @param {Function} param0.commit\n * @param {string} title\n */\nconst filterBooks = ({ commit }, title) => {\n  logger.debug(`Filter books from the given input ${title}`);\n  commit('FILTER_BOOKS', title);\n};\n\nexport default {\n  getBooks,\n  filterBooks,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/products/actions.js","/**\n *\n * @param {import(\".\").BooksState} state\n * @returns {import(\".\").Book[]}\n */\nconst books = state => state.books;\n\n/**\n *\n * @param {import(\".\").BooksState} state\n * @returns {import(\".\").Book[]}\n */\nconst displayBooks = state => state.displayBooks;\n\n/**\n *\n * @param {import(\".\").BooksState} state\n * @returns {boolean}\n */\nconst isFetchBooks = state => state.isFetchBooks;\n\nexport default {\n  books,\n  displayBooks,\n  isFetchBooks,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/products/getters.js","/**\n *\n * @param {import(\".\").BooksState} state\n * @param {import(\".\").Book[]} books\n */\nconst BOOKS_UPDATED = (state, books) => {\n  state.books = books;\n};\n\n/**\n *\n * @param {import(\".\").BooksState} state\n * @param {import(\".\").Book[]} books\n */\nconst FILTER_BOOKS = (state, title) => {\n  if (!title || title.length === 0) {\n    state.displayBooks = state.books;\n    return;\n  }\n  const compare = title.toLowerCase();\n  const displayBooks = state.books.filter(book => book.title.toLowerCase().includes(compare));\n  state.displayBooks = displayBooks;\n};\n\n/**\n *\n * @param {import(\".\").BooksState} state\n * @param {boolean} flag\n */\nconst SET_IS_FETCH_BOOK = (state, flag) => {\n  state.isFetchBooks = flag;\n};\n\nexport default {\n  BOOKS_UPDATED,\n  FILTER_BOOKS,\n  SET_IS_FETCH_BOOK,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/products/mutations.js","import logger from '@/utils/logger';\n\n/**\n *\n * @param {Function} param0.commit\n * @param {import(\"../products\").Book} book\n */\nconst addBookToCart = ({ commit }, book) => {\n  logger.debug('Add book to cart');\n  commit('ADD_TO_CART', book);\n  commit('CALCULATE_DISCOUNT');\n};\n\n/**\n *\n * @param {Function} param0.commit\n * @param {string} id\n */\nconst removeBookFromCart = ({ commit }, id) => {\n  logger.debug('Remove book from cart');\n  commit('REMOVE_FROM_CART', id);\n  commit('CALCULATE_DISCOUNT');\n};\n\n/**\n *\n * @param {Function} param0.commit\n * @param {string} id\n */\nconst decreaseBookInCart = ({ commit }, id) => {\n  logger.debug('Decrease book in cart');\n  commit('DECREASE_BOOK_IN_CART', id);\n  commit('CALCULATE_DISCOUNT');\n};\n\n/**\n *\n * @param {Function} param0.commit\n * @param {string} id\n */\nconst increaseBookInCart = ({ commit }, id) => {\n  logger.debug('Increase book in cart');\n  commit('INCREASE_BOOK_IN_CART', id);\n  commit('CALCULATE_DISCOUNT');\n};\n\n/**\n *\n * @param {Function} param0.commit\n */\nconst clearCart = ({ commit }) => {\n  logger.debug('Clear items in cart');\n  commit('CLEAR_CART');\n};\n\nexport default {\n  addBookToCart,\n  removeBookFromCart,\n  decreaseBookInCart,\n  increaseBookInCart,\n  clearCart,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/carts/actions.js","/**\n *\n * @param {import(\".\").CartState} state\n */\nconst cart = state => state.cart;\n/**\n *\n * @param {import(\".\").CartState} state\n */\nconst item = state => state.cart.item;\n\nexport default {\n  cart,\n  item,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/carts/getters.js","const HARRY_DISCOUNT = [0, 10, 11, 12, 13, 14, 15];\n\nexport {\n  HARRY_DISCOUNT,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/constant.js","import actions from './actions';\nimport getters from './getters';\nimport mutations from './mutations';\n\n/**\n * @typedef {Object} BookItem\n * @property {number} amount\n * @property {number} total\n */\n/**\n * @typedef {Object} CartItem\n * @property {import(\"../products\").Book[] & BookItem[]} books\n */\n/**\n * @typedef {Object} Cart\n * @property {CartItem} item\n * @property {number} subTotal\n * @property {number} total\n * @property {Discount} discount\n */\n/**\n * @typedef {Object} Discount\n * @property {DiscountBooks} books\n * @property {number} amount\n */\n/**\n * @typedef {Object} DiscountBooks\n * @property {Object} harry\n */\n/**\n * @typedef {Object} CartState\n * @property {Cart} cart\n */\n/**\n * @type {CartState} state\n */\nconst state = {\n  cart: {\n    item: {\n      books: [],\n    },\n    subTotal: 0,\n    total: 0,\n    discount: {\n      books: {\n        harry: {},\n      },\n      amount: 0,\n    },\n\n  },\n};\n\nexport default {\n  namespaced: true,\n  state,\n  actions,\n  getters,\n  mutations,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/carts/index.js","import Vue from 'vue';\nimport get from 'lodash.get';\nimport { HARRY_DISCOUNT } from '@/utils/constant';\nimport logger from '@/utils/logger';\n\n/**\n *\n * @param {import(\".\").CartState} state\n * @param {import(\"../products\").Book} book\n */\nconst ADD_TO_CART = (state, book) => {\n  const index = state.cart.item.books.map(b => b.id).indexOf(book.id);\n  const item = index > -1 ? state.cart.item.books[index] : { ...book };\n  const price = item.price;\n\n  item.amount = item.amount + 1 || 1;\n  item.total = item.total + price || price;\n\n  if (index === -1) {\n    state.cart.item.books.push(item);\n    if (book.title.includes('Harry Potter')) {\n      state.cart.discount.books.harry[book.id] = book.price;\n    }\n  } else {\n    Vue.set(state.cart.item.books, index, item);\n  }\n\n  state.cart.subTotal += price;\n};\n\n/**\n *\n * @param {import(\".\").CartState} state\n * @param {string} id\n */\nconst REMOVE_FROM_CART = (state, id) => {\n  const index = state.cart.item.books.map(b => b.id).indexOf(id);\n\n  if (index < 0) return;\n  logger.debug('Found book to remove from cart');\n\n  const removeItem = state.cart.item.books.splice(index, 1)[0];\n\n  if (typeof get(state, ['cart', 'discount', 'books', 'harry']) === 'object') {\n    delete state.cart.discount.books.harry[removeItem.id];\n  }\n\n  state.cart.subTotal -= removeItem.total;\n};\n\n/**\n *\n * @param {import(\".\").CartState} state\n * @param {string} id\n */\nconst DECREASE_BOOK_IN_CART = (state, id) => {\n  const index = state.cart.item.books.map(b => b.id).indexOf(id);\n  const book = state.cart.item.books[index];\n\n  if (!book || book.amount < 1) return;\n\n  book.amount -= 1;\n  book.total -= book.price;\n  Vue.set(state.cart.item.books, index, book);\n  state.cart.subTotal -= book.price;\n};\n\n/**\n *\n * @param {import(\".\").CartState} state\n * @param {string} id\n */\nconst INCREASE_BOOK_IN_CART = (state, id) => {\n  const index = state.cart.item.books.map(b => b.id).indexOf(id);\n  const book = state.cart.item.books[index];\n\n  if (!book) return;\n\n  book.amount += 1;\n  book.total += book.price;\n  Vue.set(state.cart.item.books, index, book);\n  state.cart.subTotal += book.price;\n};\n\n/**\n *\n * @param {import(\".\").CartState} state\n * @param {import(\"../products\").Book} book\n */\nconst EDIT_BOOK_CART = (state, book) => { // eslint-disable-line\n  // const { books } = state;\n  // const index = books.indexOf(book);\n\n  // if (index > -1) {\n  //   books[index] = book;\n  // }\n};\n\n/**\n *\n * @param {import(\".\").CartState} state\n */\nconst CLEAR_CART = (state) => {\n  state.cart = {\n    item: {\n      books: [],\n    },\n    subTotal: 0,\n    total: 0,\n    discount: {\n      books: {\n        harry: {},\n      },\n      amount: 0,\n    },\n  };\n};\n\n/**\n *\n * @param {import('.').CartState} state.cart\n */\nconst CALCULATE_DISCOUNT = (state) => {\n  const {\n    subTotal,\n    discount: { books: { harry } },\n  } = state.cart;\n\n  if (!harry || typeof harry !== 'object') return;\n\n  const keys = Object.keys(harry);\n  const basePrice = keys.reduce((sum, key) => sum + harry[key], 0);\n  let discountAmount = 0;\n\n  if (keys.length > 0) {\n    discountAmount = basePrice * (HARRY_DISCOUNT[keys.length - 1] / 100);\n  }\n  const total = subTotal - discountAmount;\n\n  state.cart.total = total;\n  state.cart.discount.amount = discountAmount;\n};\n\nexport default {\n  ADD_TO_CART,\n  REMOVE_FROM_CART,\n  DECREASE_BOOK_IN_CART,\n  INCREASE_BOOK_IN_CART,\n  EDIT_BOOK_CART,\n  CLEAR_CART,\n  CALCULATE_DISCOUNT,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/carts/mutations.js","import Vue from 'vue';\nimport Vuex from 'vuex';\nimport productsModule from './modules/products';\nimport cartsModule from './modules/carts';\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  modules: {\n    products: productsModule,\n    carts: cartsModule,\n  },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n  created() {\n    console.log('I was born here'); //eslint-disable-line\n  },\n  mounted() {\n    console.log('I was render here'); //eslint-disable-line\n  },\n  beforeDestroy() {\n    console.log('This is my last word'); //eslint-disable-line\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import url('https://fonts.cdnfonts.com/css/volte');\n@import '@/assets/variable.scss';\nhtml,\nbody {\n  height: 100vh;\n}\nbody,\nh1 {\n  margin: 0;\n}\ninput[type=text] {\n  border: 0;\n  -webkit-border-radius: 0;\n  -webkit-text-size-adjust: none;\n  -webkit-appearance: none;\n}\n:focus {\n  outline: none !important;\n}\n#app {\n  font-family: 'Volte', sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  height: 100vh;\n}\n.cursor-pointer {\n  cursor: pointer;\n}\n.spinner {\n  border: 16px solid #f3f3f3;\n  border-top: 16px solid $main-color;\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  animation: spin 2s linear infinite;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c390c4fa\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c390c4fa\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c390c4fa\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\nimport VuejsDialog from 'vuejs-dialog';\nimport 'vuejs-dialog/dist/vuejs-dialog.min.css';\nimport App from './App';\nimport router from './router';\nimport store from './store';\n\n\nVue.config.productionTip = false;\nVue.use(VuejsDialog);\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  render: h => h(App),\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import Vue from 'vue';\nimport Router from 'vue-router';\n\nVue.use(Router);\n\n/**\n * @typedef {Object} route\n * @property {string} path\n * @property {string} name\n * @property {Object} component\n */\nconst routes = [{\n  path: '/',\n  name: 'HomeView',\n  component: () => import(/* webpackPrefetch: true */'@/views/Home'),\n}, {\n  path: '/payment',\n  name: 'PaymentView',\n  component: () => import(/* webpackPrefetch: true */'@/views/Payment'),\n}];\n\nexport default new Router({\n  mode: 'history',\n  routes,\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js"],"sourceRoot":""}